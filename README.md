# amocrm-data-integration

Решение для тестового задания.
>Вам дана страница сайта с формой, на которой вы можете указать ссылку для получения входных данных. Входные данные разные и имеют разную структуру. Ваша задача их структурировать и отправлять в AmoCRM (обязательное условие наличие контакта в сделке), стоит отметить, что AmoCRM предоставляет при регистрации нового аккаунта тестовый период, что позволяет взаимодействовать с их API и самой платформой.

## Суть проекта
Из html-формы отправляется URI с каталогом, в корневой директории которого находятся файлы `file_data_get.txt` и `tokens.txt`. 
- `file_data_get.txt` содержит необходимые для отправки данные в AmoCRM.  
- `tokens.txt` содержит **access_token** для аутентификации при работе с AmoCRM API. **access_token** можно переопределить в `.env` файле.

Данные из `file_data_get.txt` представляют собой неструктурированный массив **контактов**, который далее структурируется и отправляется в AmoCRM с учётом указанного поддомена. 
## Перед запуском

### Создание локальной копии проекта
Скопируйте проект локально на ваш компьютер, это можно сделать средствами `git` или просто скачать архив `.zip`.
Вот пример того, как можно склонировать проект через `git` в интерфейсе командной оболочки `bash`:
```shell
git clone https://github.com/fluffur/amocrm-data-integration.git
```

### Настройка файла конфигурации `.env`
Создайте файл `.env` в корневой директории на основе `.env.example`:

```dotenv
# Укажите ваш поддомен AmoCRM
AMOCRM_SUBDOMAIN=yoursubdomain
# Если требуется, можете указать токен для авторизации в AmoCRM
ACCESS_TOKEN=
```


### Установка Docker Desktop
Для запуска проекта потребуется `docker`, подробные инструкции по установке можно найти [здесь](https://docs.docker.com/desktop/install/mac-install/).

## Запуск проекта

Для запуска проекта, откройте интерфейс командной строки, перейдите на корневую директорию проекта и запустите проект командой:
```shell
docker compose up -d --build
```

## Остановка проекта
Остановать проект можно этой командой:
```shell
docker compose down
```